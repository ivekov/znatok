# ๐ค Znatok AI Assistant

![ะะฝะฐัะพะบ ะะพะณะพัะธะฟ](znatok_logo.jpg)

**Znatok** โ ะบะพัะฟะพัะฐัะธะฒะฝัะน AI-ะฐััะธััะตะฝั ะฝะฐ ะพัะฝะพะฒะต RAG (Retrieval-Augmented Generation), ะบะพัะพััะน ะฟะพะผะพะณะฐะตั ัะพัััะดะฝะธะบะฐะผ ะฝะฐัะพะดะธัั ัะพัะฝัะต ะพัะฒะตัั ะฒ ะฒะฝัััะตะฝะฝะธั ะดะพะบัะผะตะฝัะฐั ะบะพะผะฟะฐะฝะธะธ: ะฟะพะปะธัะธะบะฐั, ัะตะณะปะฐะผะตะฝัะฐั, ะธะฝััััะบัะธัั ะธ ัะฟัะฐะฒะพัะฝะธะบะฐั.

ะะพะดะดะตัะถะธะฒะฐะตั ะธะฝัะตะณัะฐัะธั ั **Telegram** ะธ **ะะธััะธะบั24**, ะฝะฐัััะฐะธะฒะฐะตััั ะฟะพะด ะปัะฑะพะณะพ LLM-ะฟัะพะฒะฐะนะดะตัะฐ ะธ ะปะตะณะบะพ ัะฐะทะฒััััะฒะฐะตััั ะฒ Docker.

---

## ๐ฆ ะกะพะดะตัะถะฐะฝะธะต

- [ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ](#ะพัะฝะพะฒะฝัะต-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะะธะทะฝะตั-ัะตะฝะฝะพััั](#ะฑะธะทะฝะตั-ัะตะฝะฝะพััั)
- [ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั](#ัะธััะตะผะฝัะต-ััะตะฑะพะฒะฐะฝะธั)
- [ะัััััะน ััะฐัั](#ะฑัััััะน-ััะฐัั)
- [ะะฐัััะพะนะบะฐ](#ะฝะฐัััะพะนะบะฐ)
  - [LLM-ะฟัะพะฒะฐะนะดะตัั](#llm-ะฟัะพะฒะฐะนะดะตัั)
  - [ะะฝัะตะณัะฐัะธะธ](#ะธะฝัะตะณัะฐัะธะธ)
- [API](#api)
- [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
- [ะะธัะตะฝะทะธั](#ะปะธัะตะฝะทะธั)

---

## ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- ๐ **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** ะฟะพ ะทะฐะณััะถะตะฝะฝัะผ ะดะพะบัะผะตะฝัะฐะผ (PDF, DOCX, TXT)
- ๐ฌ **ะงะฐั-ะธะฝัะตััะตะนั** ั ะบะพะฝัะตะบััะฝัะผะธ ะพัะฒะตัะฐะผะธ ะฝะฐ ะตััะตััะฒะตะฝะฝะพะผ ัะทัะบะต
- ๐ **ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ**: ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝัะน ะพะฑะผะตะฝ ั ะฟะพะฟัะปััะฝัะผะธ ะะฐะทะฐะผะธ ะทะฝะฐะฝะธะน:
  - ะะธััะธะบั24
  - Confluence
- ๐ค **ะะฝัะตะณัะฐัะธั ั ะผะตััะตะฝะดะถะตัะฐะผะธ**:
  - Telegram
  - ะะธััะธะบั24 (ัะตัะตะท ะฒะตะฑััะบะธ)
- โ๏ธ **ะะธะฑะบะฐั ะฝะฐัััะพะนะบะฐ** LLM-ะฟัะพะฒะฐะนะดะตัะฐ:
  - GigaChat (ะกะฑะตั)
  - Yandex GPT
  - Mistral AI
- ๐ **ะขัะผะฝะฐั/ัะฒะตัะปะฐั ัะตะผะฐ**, ะฐะดะฐะฟัะธะฒะฝัะน ะธะฝัะตััะตะนั
- ๐ **ะะทะพะปะธัะพะฒะฐะฝะฝะฐั ััะตะดะฐ**: ะดะฐะฝะฝัะต ะฝะต ะฟะพะบะธะดะฐัั ะฒะฐัั ะธะฝััะฐััััะบัััั

---

## ะะธะทะฝะตั-ัะตะฝะฝะพััั

- **ะกะฝะธะถะตะฝะธะต ะฒัะตะผะตะฝะธ** ะฝะฐ ะฟะพะธัะบ ะธะฝัะพัะผะฐัะธะธ ะฒ ัะตะณะปะฐะผะตะฝัะฐั ะธ ะธะฝััััะบัะธัั
- **ะกะฝะธะถะตะฝะธะต ะฝะฐะณััะทะบะธ** ะฝะฐ HR, IT, ััะธััะพะฒ ะธ ะดััะณะธั ัะฟะตัะธะฐะปะธััะพะฒ ะฟะพะดะดะตัะถะบะธ
- **ะฃัะบะพัะตะฝะธะต ะพะฝะฑะพัะดะธะฝะณะฐ** ะฝะพะฒัั ัะพัััะดะฝะธะบะพะฒ
- **ะะดะธะฝัะน ะธััะพัะฝะธะบ ะฟัะฐะฒะดั** โ ะฒัะตะณะดะฐ ะฐะบััะฐะปัะฝัะต ะธ ะฟัะพะฒะตัะตะฝะฝัะต ะดะฐะฝะฝัะต
- **ะัะพะทัะฐัะฝะพััั** โ ะบะฐะถะดัะน ะพัะฒะตั ัะพะดะตัะถะธั ัััะปะบั ะฝะฐ ะธััะพัะฝะธะบ

---

## ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

| ะะพะผะฟะพะฝะตะฝั       | ะขัะตะฑะพะฒะฐะฝะธะต |
|------------------|-----------|
| ะะก               | Linux, macOS, Windows (ัะตัะตะท WSL/Docker) |
| Docker           | โฅ 20.10 |
| Docker Compose   | โฅ 2.0 |
| RAM              | โฅ 4 ะะ (ัะตะบะพะผะตะฝะดัะตััั 8 ะะ) |
| ะกะฒะพะฑะพะดะฝะพะต ะผะตััะพ  | โฅ 2 ะะ |
| ะกะตัะตะฒะพะน ะดะพัััะฟ   | ะบ ะฒัะฑัะฐะฝะฝะพะผั LLM-ะฟัะพะฒะฐะนะดะตัั ะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ) Telegram API |

> ๐ก **ะะฐะถะฝะพ**: ัะผะฑะตะดะดะธะฝะณะธ ะณะตะฝะตัะธัััััั ะปะพะบะฐะปัะฝะพ ะฝะฐ CPU. GPU ะฝะต ััะตะฑัะตััั.

---

## ะัััััะน ััะฐัั

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน**
   ```bash
   git clone https://github.com/ะฒะฐั-ะปะพะณะธะฝ/znatok.git
   cd znatok
   ```

2. **ะกะพะทะดะฐะนัะต `.env` ัะฐะนะป**
   ```env
   APP_SECRET_KEY=ะฒะฐั_ัะตะบัะตั
   QDRANT_HOST=qdrant
   QDRANT_PORT=6333
   QDRANT_COLLECTION=znatok_chunks
   ALLOWED_ORIGINS=http://localhost:8080
   BASE_URL=http://localhost:8000
   ```

3. **ะะฐะฟัััะธัะต ัะตัะฒะธัั**
   ```bash
   docker-compose up --build -d
   ```

4. **ะัะบัะพะนัะต ะธะฝัะตััะตะนั**
   ```
   http://localhost:8080
   ```

5. **ะะฐัััะพะนัะต LLM-ะฟัะพะฒะฐะนะดะตั** (ัะฐะทะดะตะป ยซะะฐัััะพะนะบะธยป) ะธ **ะทะฐะณััะทะธัะต ะดะพะบัะผะตะฝัั**

ะะพัะพะฒะพ! ๐

---

## ะะฐัััะพะนะบะฐ

### LLM-ะฟัะพะฒะฐะนะดะตัั

ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะฟัะพะฒะฐะนะดะตัั:
- **GigaChat** โ ะธัะฟะพะปัะทัะนัะต `Authorization Key` ะธะท [Sber Developers Studio](https://developers.sber.ru/studio)
- **Yandex GPT** โ ะฟะพะปััะธัะต `API Key` ะฒ [Yandex Cloud Console](https://console.cloud.yandex.ru)
- **Mistral AI** โ ัะพะบะตะฝ ะธะท [Mistral Console](https://console.mistral.ai)

ะัะต ะฝะฐัััะพะนะบะธ ัะพััะฐะฝััััั ะฒ `/app/data/settings.json` ะฒะฝัััะธ ะบะพะฝัะตะนะฝะตัะฐ.

### ะะฝัะตะณัะฐัะธะธ

#### Telegram
1. ะกะพะทะดะฐะนัะต ะฑะพัะฐ ัะตัะตะท [@BotFather](https://t.me/BotFather)
2. ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ ะธ ะฒััะฐะฒััะต ะฒ ัะฐะทะดะตะป **ะะฝัะตะณัะฐัะธะธ โ Telegram**
3. ะกะพััะฐะฝะธัะต โ ะฑะพั ะทะฐะฟัััะธััั ะฐะฒัะพะผะฐัะธัะตัะบะธ

#### ะะธััะธะบั24
1. ะ CRM ัะพะทะดะฐะนัะต ะฟัะธะปะพะถะตะฝะธะต ั ะฟัะฐะฒะฐะผะธ ะฝะฐ ัะพะฑััะธั ะผะตััะตะฝะดะถะตัะฐ
2. ะฃะบะฐะถะธัะต ะฒะตะฑััะบ: `http://ะฒะฐั-ะดะพะผะตะฝ/bitrix24/webhook`
3. ะกะบะพะฟะธััะนัะต `CLIENT_SECRET` ะธ ะฒััะฐะฒััะต ะฒ ะธะฝัะตััะตะนั Znatok

---

## API

| ะญะฝะดะฟะพะธะฝั | ะะตัะพะด | ะะฟะธัะฐะฝะธะต |
|---------|-------|--------|
| `/api/ask` | `POST` | ะัะฟัะฐะฒะธัั ะฒะพะฟัะพั ะธ ะฟะพะปััะธัั ะพัะฒะตั |
| `/api/upload` | `POST` | ะะฐะณััะทะธัั ะดะพะบัะผะตะฝัั (multipart/form-data) |
| `/api/documents` | `GET` | ะกะฟะธัะพะบ ะทะฐะณััะถะตะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ |
| `/api/documents/{filename}` | `DELETE` | ะฃะดะฐะปะธัั ะดะพะบัะผะตะฝั |
| `/api/settings` | `GET/POST` | ะฃะฟัะฐะฒะปะตะฝะธะต ะฝะฐัััะพะนะบะฐะผะธ LLM |
| `/api/integrations` | `GET/POST` | ะฃะฟัะฐะฒะปะตะฝะธะต ะธะฝัะตะณัะฐัะธัะผะธ |
| `/api/health` | `GET` | ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ |

ะัะธะผะตั ะทะฐะฟัะพัะฐ:
```json
POST /api/ask
{
  "question": "ะะฐะบ ะพัะพัะผะธัั ะพัะฟััะบ?",
  "user_department": "all"
}
```

---

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ  Frontend   โโโโโโถโ   FastAPI   โโโโโโถโ   Qdrant     โ
โ (React-like โ     โ  (Backend)  โ     โ (Vector DB)  โ
โ   static)   โโโโโโโ             โ     โโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโ     โโโโโโโโฌโโโโโโโ
                           โ
         โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโ
         โ LLM Providers (GigaChat, Yandexโฆ) โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ Messengers (Telegram, Bitrix24)   โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะขะตัะฝะพะปะพะณะธะธ:
- **Frontend**: HTML, CSS, Vanilla JS
- **Backend**: FastAPI, Python 3.11
- **Embeddings**: `sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2`
- **ะะตะบัะพัะฝะฐั ะะ**: Qdrant
- **LLM**: ะฟะพะดะบะปััะตะฝะธะต ัะตัะตะท HTTP API

---

## ะะธัะตะฝะทะธั

ะัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT. ะะพะดัะพะฑะฝะตะต โ ัะผ. ัะฐะนะป [LICENSE](LICENSE).
